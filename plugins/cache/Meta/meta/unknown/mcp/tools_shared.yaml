# Shared tool configuration for all Meta MCP servers

tools:
  !reset
  # Python tools (Devmate)
  search_files:
    llm_enabled: true
    config:
      use_biggrep_interactive_tier: true
      use_cwd_as_target_directory: true
      use_cwd_relative_paths: true

  # WWW tools
  get_diff_details:
    llm_enabled: true

  knowledge_load:
    llm_enabled: true
    config:
      description_override: |
        DIRECTLY extract content from any given URL or reference ID. This is the PRIMARY tool to use whenever the user has an URL (internal or external) or mentions a specific reference like a diff ID, task ID, SEV ID, paste ID or a notebook ID. If the user asks about a specific diff (e.g., "what's diff D70744946 about" or just "what's diff 70744946 about"), task (e.g., "T216973509"), SEV (e.g., "SEV 496098" or "S496098"), paste (e.g. "P1745412"), notebook (e.g. "N638684"), ALWAYS use this tool IMMEDIATELY without first using metamate_knowledge_search. For reference IDs, construct the URL using these patterns:
        - Tasks: https://www.internalfb.com/T[number] (e.g., https://www.internalfb.com/T216657324)
        - Diffs: https://www.internalfb.com/diff/D[number] (e.g., https://www.internalfb.com/diff/D63926261)
        - Pastes: https://www.internalfb.com/phabricator/paste/view/P[number] (e.g., https://www.internalfb.com/phabricator/paste/view/P1745412
        - SEVs: https://www.internalfb.com/sevmanager/view/[number] (e.g., https://www.internalfb.com/sevmanager/view/496098)
        - Bento Notebooks (Jupyter from Meta): https://www.internalfb.com/intern/anp/view/?id=[number] (e.g., https://www.internalfb.com/intern/anp/view/?id=638684)

  metamate_knowledge_search:
    tool_name: knowledge_search
    llm_enabled: true
    config:
      description_override: |
        Find knowledge from both keywords and natural-language queries when you need Meta-specific information without having specific reference IDs or URLs.

        This tool is designed for exploratory searches to discover relevant documents and information.

        - If the user has provided a diff number (e.g., "D123") or a diff URL, directly use the get_diff_details tool
        - If the user has provided a task number (e.g., "T216973509"), SEV number (e.g., "SEV 496098"), or any other full URLs, directly use knowledge_load tool since you already know what to load

        USE this tool when you need to search for Meta-specific information based on topics or questions.
